<% include partials/header %>

<header id="header" class="header"> <!-- блок хэдер (самая верхняя часть с лого, названием организации и кнопками регистрации и входа) -->
    <div class="container"> <!-- разбиваем хэдэр на контейнеры (синтаксис бутстрапа заставляет делать так) -->
        <div class="row"> <!-- опять же синтаксис бутстрапа -->
            <div class="col-lg-12">
                <div class="entry__border d-flex justify-content-end">
                    <div class="entry__border__button">
                        <a href="/signin">
                            <button type="button" class="entry__button" href=""> <!-- класс кнопки -->
                                Вход
                            </button>
                        </a>
                    </div>
                    <div class="registration__border__button">
                        <a href="/signup">
                            <button type="button" class="registration__button" href=""> <!-- класс кнопки -->
                                Регистрация
                            </button>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header> <!-- закончился блок хэдэр -->

<section id="signup" class="signup"> <!-- класс секции входа (все, что под кнопками вход и регистрация) -->
    <section class="container"> <!-- все по классике -->
        <div class="row">
            <div class="col-lg-12">
                <div class="border__login">
                    <div class="entry__data"> <!-- класс блока входа -->
                        <div class="accordion-menu-registration"> <!-- для отступа сверху -->
                            <ul class="accordion-menu">
                                <li>
                                    <div class="dropdownlink"><i class="fa fa-quote-left" aria-hidden="true"></i>
                                        Зарегистрироваться как
                                        <i class="fa fa-chevron-down" aria-hidden="true"></i>
                                    </div>
                                    <ul class="submenuItems">
                                        <li><a href="/signup">Участник</a></li>
                                        <li><a href="/signupManager">Научный руководитель</a></li>
                                        <li><a href="#">Эксперт</a></li>
                                    </ul>
                                </li>
                            </ul>
                            <div class="type__of__user">
                                Выбрано: Научный руководитель
                            </div>
                        </div>

                        <div class="login"> <!-- класс надписи Логин -->
                            <p class="entry__login">
                                Логин
                            </p>
                        </div>

                        <form action="#" method="POST" class="form" name="registration"> <!-- форма для логина -->

                            <label class="lblInp m-btm-40" for="mail"> <!-- лэйбл связывает форму и и вскую хрень типо текста и проч -->
                                <input type="email" id="mail" name="email" required> <!-- вводимый тип эмйл, поле для ввода обязательно -->
                                </input>
                                <label for="mail">Введите электронную почту</label> <!-- надпись в нераскрытой форме -->
                                <i class="fa fa-envelope" aria-hidden="true">
                                </i>
                            </label>


                            <div class="password"> <!-- класс надписи Пароль -->
                                <p class="entry__password">
                                    Пароль
                                </p>
                            </div>

                            <label class="lblInp" for="password">
                                <input type="password" id="password" name="password" required>
                                </input>

                                <label for="password">Введите пароль</label>
                                <i class="fa fa-envelope" ariahidden="true">
                                </i>
                            </label>


                            <div class="text"> <!--  -->
                                <p class="entry__text">
                                    Имя
                                </p>
                            </div>

                            <label class="lblInp m-btm-40" for="name"> <!-- Имя -->
                                <input type="text" id="name" name="name" required> <!-- -->
                                </input>
                                <label for="mail">Введите имя</label> <!--  -->
                                <i class="fa fa-envelope" aria-hidden="true">
                                </i>
                            </label>


                            <div class="text"> <!-- Фамилия -->
                                <p class="entry__text">
                                    Фамилия
                                </p>
                            </div>

                            <label class="lblInp m-btm-40" for="surname"> <!-- Фамилия -->
                                <input type="text" id="surname" name="surname" required> <!-- -->
                                </input>
                                <label for="mail">Введите фамилию</label> <!--  -->
                                <i class="fa fa-envelope" aria-hidden="true">
                                </i>
                            </label>


                            <div class="text"> <!-- Отчество -->
                                <p class="entry__text">
                                    Отчество
                                </p>
                            </div>

                            <label class="lblInp m-btm-40" for="patronymic"> <!-- Отчество -->
                                <input type="text" id="patronymic" name="patronymic" required> <!-- -->
                                </input>
                                <label for="mail">Введите отчество</label> <!--  -->
                                <i class="fa fa-envelope" aria-hidden="true">
                                </i>
                            </label>

                            <div class="text"> <!-- школа -->
                                <p class="entry__text">
                                    Школа (институт)
                                </p>
                            </div>

                            <label class="lblInp m-btm-40" for="school"> <!--  -->
                                <input type="text" id="school" name="school" required> <!-- -->
                                </input>
                                <label for="mail">Введите название учереждения</label> <!--  -->
                                <i class="fa fa-envelope" aria-hidden="true">
                                </i>
                            </label>

                            <div class="text"> <!-- Отчество -->
                                <p class="entry__text">
                                    Дата рождения
                                </p>
                            </div>

                            <label class="lblInpf" for="date"> <!--lblInpf - специальный класс для даты (поле всегда открыто во избежание багов)  -->
                                <input type="date" id="date" name="date" required> <!-- -->
                                </input>
                                <label for="mail">Введите дату в формате (дд.мм.гггг)</label> <!--  -->
                                <i class="fa fa-envelope" aria-hidden="true">
                                </i>
                            </label>


                            <div class="cntr">
                                <label for="cbx" class="label-cbx">
                                    <input id="cbx" type="checkbox" class="invisible" required>
                                    <div class="checkbox">
                                        <svg width="20px" height="20px" viewBox="0 0 20 20">
                                            <path d="M3,1 L17,1 L17,1 C18.1045695,1 19,1.8954305 19,3 L19,17 L19,17 C19,18.1045695 18.1045695,19 17,19 L3,19 L3,19 C1.8954305,19 1,18.1045695 1,17 L1,3 L1,3 C1,1.8954305 1.8954305,1 3,1 Z"></path>
                                            <polyline points="4 11 8 15 16 6"></polyline>
                                        </svg>
                                    </div>
                                    <span class="cbx__text">Нажимая на кнопку</span>
                                </label>
                            </div>

                            <div class="submit__text"> <!-- Отчество -->
                                <p class="submit__text__input">
                                    «Зарегистрироваться», я принимаю условия
                                    <a href="">
                                        Пользовательского соглашения
                                    </a>
                                    и подтверждаю факт ознакомления с
                                    <a href="">
                                        Политикой обработки данных
                                    </a>
                                </p>
                            </div>


                            <div class="button__submit"> <!-- класс для блока кнопки -->
                                <a href="../trash/cabinet.html">
                                    <input value="зарегистрироваться" type="submit" class="form__button" href="cabinet.html"> <!-- класс самой кнопки -->
                                    </input>
                                </a>
                            </div>
                        </form>

                        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

                        <script>
                            $("form").submit(function(e) {
                                e.preventDefault();

                                var registerForm = document.forms["registration"];
                                var email = registerForm.elements["email"].value;
                                var pass = registerForm.elements["password"].value;
                                var name = registerForm.elements["name"].value;
                                var surname = registerForm.elements["surname"].value;
                                var patronymic = registerForm.elements["patronymic"].value;

                                var school = registerForm.elements["school"].value;
                                var date = registerForm.elements["date"].value;


                                $.ajax({
                                    url: '/register',
                                    method: 'POST',
                                    data: {
                                        login: email,
                                        password: pass,
                                        name: name,
                                        surname: surname,
                                        patronymic: patronymic,
                                        school: school,
                                        date: date
                                    },
                                    success: function() {
                                        console.log('SEND DATA ON SERVER');
                                    }
                                })
                            })
                        </script>
                    </div>
                </div>
            </div>
        </div>
    </section>
</section>


<script >
    $('.lblInp input').keyup(function() {
        if($(this).val().length > 0){
            $(this).closest('.lblInp input').addClass('filled');
        }
        else{
            $(this).closest('.lblInp input').removeClass('filled');
        }
    });
</script>

<% include partials/footer %>